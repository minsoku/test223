# VR 게임 컬렉션

메타퀘스트3 헤드셋을 위한 WebXR 기반 VR 게임 모음입니다.

## 🎮 게임 목록

### 1. VR 방탈출 게임 (Three.js)
- **기술:** Three.js + WebXR
- **장르:** 퍼즐/방탈출
- **특징:** 
  - 물리 기반 상호작용
  - 컨트롤러를 이용한 오브젝트 조작
  - 실시간 디버깅 도구
  - 상자, 열쇠, 문 등의 게임 오브젝트

### 2. VR 리듬 게임 (Babylon.js) 🆕
- **기술:** Babylon.js + WebXR + Cannon.js 물리엔진
- **장르:** 리듬/음악
- **특징:**
  - 물리 기반 드럼 연주
  - 3가지 드럼 타입 (박스, 구, 실린더)
  - 핸드 트래킹 지원
  - 30 BPM 리듬 패턴
  - 실시간 충돌 감지 및 하이라이트

## 🚀 시작하기

### 필수 요구사항
- **VR 헤드셋:** Meta Quest 3 (권장)
- **브라우저:** Chrome 또는 Edge (WebXR 지원)
- **프로토콜:** HTTPS (또는 localhost)

### 설치 및 실행

1. 프로젝트 클론
```bash
git clone [repository-url]
cd hci2
```

2. 로컬 서버 실행
```bash
# Python을 사용하는 경우
python -m http.server 8000

# Node.js를 사용하는 경우
npx serve .
```

3. 브라우저에서 접속
```
http://localhost:8000
```

4. VR 헤드셋 연결 후 게임 선택

## 🎯 게임별 조작법

### 방탈출 게임
- **컨트롤러 트리거:** 오브젝트 선택/상호작용
- **목표:** 상자에서 열쇠를 찾아 문을 열고 탈출

### 리듬 게임  
- **컨트롤러 트리거/스퀴즈:** 드럼 잡기/놓기
- **핸드 트래킹:** 선택 제스처로 드럼 조작
- **목표:** 떨어지는 구슬을 받을 드럼을 배치하여 리듬 생성

## 📁 프로젝트 구조

```
hci2/
├── index.html              # 메인 페이지
├── game.js                 # Three.js 방탈출 게임 로직
├── controllers.js          # VR 컨트롤러 처리
├── babylon-demo.html       # Babylon.js 리듬 게임
├── test.js                 # 원본 리듬 게임 코드
├── vr-test.html           # VR 연결 테스트 도구
├── style.css              # 스타일시트
└── README.md              # 프로젝트 문서
```

## 🛠️ 기술 스택

### 공통
- **WebXR API:** VR 기능 지원
- **WebGL:** 3D 렌더링
- **JavaScript ES6+:** 최신 문법 사용

### 방탈출 게임
- **Three.js:** 3D 그래픽 라이브러리
- **Three.js WebXR:** VR 지원
- **물리엔진:** 내장 충돌 감지

### 리듬 게임
- **Babylon.js:** 3D 게임 엔진
- **Cannon.js:** 물리 시뮬레이션
- **WebXR Hand Tracking:** 손 추적 지원

## 🎵 리듬 게임 상세 기능

### 물리 시스템
- **충돌 감지:** 구슬과 드럼의 실시간 충돌
- **중력 시뮬레이션:** 자연스러운 낙하 물리
- **탄성/마찰:** 현실적인 물체 반응

### 상호작용
- **드럼 복제:** 샘플 드럼을 잡으면 새로운 드럼 생성
- **자유 배치:** 원하는 위치에 드럼 배치 가능
- **시각적 피드백:** 충돌 시 하이라이트 효과

### VR 최적화
- **양손 지원:** 좌우 컨트롤러 독립 사용
- **핸드 트래킹:** 컨트롤러 없이도 플레이 가능
- **공간 인식:** roomscale VR 지원

## 🐛 디버깅

### VR 연결 테스트
- `vr-test.html` 페이지에서 WebXR 지원 상태 확인
- 브라우저 호환성 및 헤드셋 연결 상태 진단

### 실시간 로그
- 메인 페이지에서 실시간 상태 모니터링
- 오류 발생 시 상세 정보 제공

## 📝 개발 노트

### 성능 최적화
- 떨어진 구슬 자동 정리 (`y < -0.5`)
- 그림자 맵 최적화 (1024x1024)
- 효율적인 충돌 감지 시스템

### 접근성
- 다중 입력 방식 지원 (컨트롤러 + 핸드 트래킹)
- 시각적 피드백 강화
- 직관적인 UI/UX 설계

## 🤝 기여하기

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Test with VR headset
5. Submit a pull request

## 📄 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다.

## 🙏 크레딧

- **원본 리듬 게임:** RaananW (https://twitter.com/RaananW)
- **Babylon.js:** 3D 게임 엔진
- **Three.js:** 3D 그래픽 라이브러리
- **Meta Quest:** VR 플랫폼 지원
